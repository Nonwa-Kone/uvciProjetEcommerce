<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/538942b924.js"
      crossorigin="anonymous"
    ></script>
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <style>
    #reponsesearch{
      z-index: 1;
      width: 200px;
      background: #fff;
    }
    #reponsesearch div{
      padding: 5px;
      box-shadow: 0 0 1px 2px #ccc;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #reponsesearch img{
      width: 50px;
      border-radius: 50%;
    }
  </style>
  <body>
    <div>
      <header>
        <p>
          <strong><span style="color: #4ecd13">A</span>KAM</strong>
        </p>
        <div class="navbar">
          <ul class="dropdownmenu">
            <li><a href="index2.html" class="hover">Accueil</a></li>
            <li>
              <a href="boutique.html" style="color: #4eb61e" class="hover"
                ><i class="fa-solid fa-shop"></i>Boutiques</a
              >
            </li>
            <li>
              <a href="#" class="hover"
                ><i class="fa-solid fa-circle-question"></i>Aides</a
              >
              <ul class="sous">
                <li><a href="aide1.html">Commande</a></li>
                <li><a href="chat.html">Discussion</a></li>
              </ul>
            </li>
            <li>
              <a href="produit2.html" class="hover"
                ><i class="fa-solid fa-cart-shopping"></i>Panier
                <span id="nbrearticle"></span
              ></a>
            </li>
            <li>
              <a href="#" class="hover"
                >Contacts<i class="fa-solid fa-user"></i
              ></a>
              <ul class="sous">
                <li><a href="connexion.html">Se connecter</a></li>
                <li><a href="inscription.html">S'inscrire</a></li>
                <li><button id="destroy">Deconnexion</button></li>
              </ul>
            </li>
            <li>
              <a href="#"><input type="search" id="search" placeholder="recherche" /></a>
              <div id="reponsesearch"></div>
            </li>
            <li>
              <a href="#" class="hover"><i class="fa-solid fa-bars"></i>Plus</a>
              <ul class="sous">
                <li><a href="jusfruits.html">Jus de fruits</a></li>
                <li><a href="fruits.html">Fruits</a></li>
                <li><a href="poudre.html">Poudres</a></li>
                <li><a href="yaourt.html">Yaourt</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </header>
      <section class="menu">
        <div>
          <h1>Frais - Sain <br />- Bio</h1>
          <a href="panier.html"><button>ACHETER MAINTENANT</button></a>
        </div>
      </section>
      <section class="produits">
        <div class="produits-text">
          <p>Frais et bio de notre ferme</p>
          <h1>NOS PRODUITS</h1>
        </div>
        <div class="produits-text-item">
          <p>Jus de fruits</p>
          <p>Fruits</p>
          <p>Poudres</p>
          <p>Yaourt</p>
        </div>
        <!-- Liste des produits -->
        <div class="produits-items" id="product-list">
        </div>
        <!-- Fin Liste des produits -->
      </section>
      <section class="service">
        <div>
          <h1>
            Tout ce dont vous avez <br />
            besoin est ici
          </h1>
          <p>
            La qualité sanitaire des produits bio <br />
            contribue à la santé des consommateurs <br />
            et n’engendre pas de coût supplémentaire <br />
            pour la santé publique. Alors mangez bio .
          </p>
        </div>
      </section>

      <section class="new-arrivage">
        <div class="produits-text">
          <p>Frais et bio de notre ferme</p>
          <h1>NOUVELLES ARRIVAGES</h1>
        </div>
        <div class="arrivages" id="annonce-list">
          
        </div>
      </section>
      <section class="foot-section">
        <div class="foot-section2">
          <div>
            <h1>Contactez-nous</h1>
            <p><strong>Adresse : </strong>Côte d'Ivoire<br />Cocody-angre</p>
            <p>
              <strong>Telephone : </strong>+2250707070707<br />0022505050505
            </p>
            <p><strong>Email : </strong>AKAM.site@gmail.com</p>
          </div>
          <div>
            <h1>Programmes</h1>
            <p><strong>Ouverture : </strong> 07h00</p>
            <p><strong>Fermerture : </strong> 21h00</p>
            <p><strong>Jours : </strong>Lundi-Samedi</p>
          </div>
          <div>
            <h1>Partenaires</h1>
            <p><strong>JUMIA</strong></p>
            <p><strong>GLOVO</strong></p>
            <p><strong>SAMER</strong></p>
          </div>
        </div>
      </section>
      <footer>
        <div>
          <p>Avec AKAM c'est le paradis des aliments <br />bio et sains</p>
        </div>
        <div>
          <span><i class="fa-brands fa-facebook-f"></i><i class="fa-brands fa-google"></i><i class="fa-brands fa-instagram"></i><i class="fa-brands fa-twitter"></i></span>
        </div>
      </footer>
    </div>

    <script src="script.js"></script>
    <script src="js/annonce.js"></script>
    <!-- <script src="js/panier.js"></script> -->

    <script>
      const search = document.getElementById('search');
      const reponsesearch = document.getElementById('reponsesearch');

      document.getElementById("nbrearticle").innerText = getPannier().length;
      const getProduct = () =>{
        const productAll = localStorage.getItem('products');
        //Si basket == null alors
        if (productAll == null) {
            // On retourne un tableau vide
            return [];
        }
        // Sinon on retourne le pannier
        else{
            return JSON.parse(productAll);
        }
      }
      const searchProduct = (name) =>{
        let productSearch = products.find((p)=>p.title == name);
        if (productSearch==undefined){
          return [];
        }
        return productSearch;
      }

      search.addEventListener('input', (e)=>{
        let product = e.target.value
          let {id, title, designation, prix, quantite, quantiteStocker ,image} = searchProduct(product);
          if (title == undefined || image == undefined) {
            reponsesearch.innerHTML = null;
          } else {
            reponsesearch.innerHTML=`
            <div>
              <img src=${image} />
              <h4>${title}</h4>
            </div>
            `;
          }
      })
    </script>
  </body>
</html>
